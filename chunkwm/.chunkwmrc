#!/bin/bash

# Log warnings
chunkc core::log_level error

# Plugins paths
chunkc plugin_dir /usr/local/opt/chunkwm/share/chunkwm/plugins/
chunkc core::plugin_dir /usr/local/opt/chunkwm/share/chunkwm/plugins/

# Monitor plugin_dir and automatically reload any `.so` files if changed
chunkc core::hotload 1

# Disable focus-follows-mouse feature
chunkc core::unload ffm.so

# Enable border feature
chunkc core::load border.so

# Enable tiling feature
chunkc core::load tiling.so

# Set border color to Green (format: 0xAARRGGBB)
chunkc set focused_border_color 0xFF008000
chunkc set focused_border_width 3
chunkc set focused_border_radius 0
chunkc set focused_border_skip_floating 1
chunkc set focused_broder_skip_fullscreen 1

# Setup default desktop
chunkc set global_desktop_mode bsp
chunkc set global_desktop_offset_top 1
chunkc set global_desktop_offset_bottom 1
chunkc set global_desktop_offset_left 1
chunkc set global_desktop_offset_right 1
chunkc set global_desktop_offset_gap 0
chunkc set global_desktop_padding_step_size 10.0
chunkc set global_desktop_gap_step_size 5.0

chunkc set bsp_spawn_left 1
chunkc set bsp_optimal_ratio 1.618
chunkc set bsp_split_mode optimal
chunkc set bsp_split_ratio 0.5

chunkc set monitor_focus_cycle 1
chunkc set window_focus_cycle monitor

chunkc set mouse_follows_focus intrinsic

chunkc set window_float_next 0
chunkc set window_region_locked 1
chunkc set window_float_center 1

# Tiling rules
# See https://github.com/koekeishiya/chunkwm/blob/master/src/plugins/tiling/README.md
# Get windows of focused desktop: chunkc tiling::query --desktop windows
# Get state of a window by id: chunkc tiling::query --window $id
chunkc tiling::rule --owner "System Preferences" --state float
chunkc tiling::rule --owner "Xcode" --state float
chunkc tiling::rule --owner "Finder" --name "Copy" --state float
chunkc tiling::rule --owner "App Store" --state float
chunkc tiling::rule --owner "Alfred" --state float
chunkc tiling::rule --owner "Dash" --state float
chunkc tiling::rule --owner "WhatsApp" --state float
chunkc tiling::rule --owner "Telegram" --state float
chunkc tiling::rule --owner "Skype" --state float
chunkc tiling::rule --owner "Postgres" --state float
chunkc tiling::rule --owner "Spotify" --state native-fullscreen
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Preferences$" --state float
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Default Preferences$" --state float
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Project Structure$" --state float
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Default Project Structure$" --state float
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Reformat File" --state float
chunkc tiling::rule --owner "IntelliJ IDEA" --name "^Rename$" --state float
